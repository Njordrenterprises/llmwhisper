---
import { SEO } from "astro-seo";
import '../styles/global.css';

interface Props {
	title: string;
	description: string;
	image?: string;
	canonicalURL?: string;
}

const { title, description, image = '/favicon.webp', canonicalURL } = Astro.props;

const siteURL = new URL(Astro.url.pathname, Astro.site);
---

<!-- Global Metadata -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
<meta name="generator" content={Astro.generator} />

<!-- Font preloads -->
<link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin />
<link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin />

<SEO
    title={title}
    description={description}
    canonical={canonicalURL || siteURL.href}
    openGraph={{
        basic: {
            title: title,
            type: "website",
            image: new URL(image, Astro.site).href,
        },
        image: {
            alt: "LLM Whisperer Hero Image",
        },
    }}
    twitter={{
        creator: "@tangledcircuit",
        site: "@tangledcircuit",
        card: "summary_large_image",
    }}
    extend={{
        link: [{ rel: "icon", href: "/favicon.svg" }],
        meta: [
            { name: "twitter:image", content: new URL(image, Astro.site).href },
            { name: "twitter:title", content: title },
            { name: "twitter:description", content: description },
            { name: "keywords", content: "AI, artificial intelligence, consciousness, LLM, language models, technology, philosophy" },
        ],
    }}
/>
